---
import Layout from "../layouts/Layout.astro";
---

<Layout title="Thrifted streetwear shop">
  <div class="home-content">
    <!-- Home page content can be added here when menu is open -->
  </div>
</Layout>

<script>
  import { AppState, APP_STATES } from "../utils/AppState";
  import { EventHandler } from "../utils/EventHandler";

  document.addEventListener("DOMContentLoaded", () => {
    // Initialize back button handling
    EventHandler.initializeBackButton();

    // Ensure we're in the correct state on the home page
    if (AppState.isHomePage()) {
      // Reset any stored transition state
      AppState.resetSceneTransitionState();

      // Transition to proper state if needed
      if (AppState.currentState === APP_STATES.INITIALIZING) {
        setTimeout(() => {
          AppState.transitionTo(APP_STATES.IDLE);
        }, 500);
      }
    }
  });
</script>
